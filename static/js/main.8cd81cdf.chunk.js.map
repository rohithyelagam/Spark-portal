{"version":3,"sources":["redux/reducer.js","redux/actions.js","components/login.js","components/loggedin.js","components/signup.js","components/forgot.js","App.js","index.js"],"names":["initial_state","isLoggedin","onSignup","forgot","user","firstName","lastName","email","password","state2","reducer","state","action","type","payload","login","Login","useState","invalid","setInvalid","loading","setLoading","setEmail","setPassword","dispatch","useDispatch","className","LinearProgress","onClick","name","value","onChange","e","target","placeholder","axios","post","then","res","data","localStorage","setItem","console","log","props","useSelector","st","sx","color","fontSize","clear","Signup","setFirstName","setLastName","first_err","setFirst_err","email_err","setEmail_err","pswd_err","setPswd_err","close_errs","handleChange","dec","tar","style","border","n","length","d","i","handle_all_errors","otp","setOtp","des","setDes","sotp","setSotp","err","setErr","pswd","setPswd","handleerr","App","useEffect","loggedInUser","getItem","fn","ln","em","ps","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8cd81cdf.chunk.js","sourcesContent":["const initial_state = {\r\n  isLoggedin: false,\r\n  onSignup:true,\r\n  forgot:false,\r\n  user:{\r\n    firstName:\"\",\r\n    lastName:\"\",\r\n    email:\"\",\r\n    password:\"\"\r\n  }\r\n};\r\nconst state2 = {\r\n   firstName:\"\",\r\n    lastName:\"\",\r\n    email:\"\",\r\n    password:\"\"\r\n}\r\n\r\nconst reducer = (state = initial_state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN\":\r\n      return {\r\n        isLoggedin: true,\r\n        onSignup:false,\r\n        user:action.payload\r\n      };\r\n    case \"LOGOUT\":\r\n      return {\r\n        isLoggedin: false,\r\n        onSignup:false,\r\n        user:state2\r\n      };\r\n    case \"CREATE_SIGNUP\":\r\n      return {\r\n        onSignup:true,\r\n        isLoggedin:true,\r\n      }\r\n    case \"CLOSE_SIGNUP\":\r\n      return {\r\n        onSignup:false,\r\n        isLoggedin:false,\r\n      }\r\n    case \"OPEN_FORGOT\":\r\n      return{\r\n        onSignup:state.onSignup,\r\n        isLoggedin:state.isLoggedin,\r\n        forgot:true\r\n      }\r\n    case \"CLOSE_FORGOT\":\r\n        return{\r\n          onSignup:state.onSignup,\r\n          isLoggedin:state.isLoggedin,\r\n          forgot:false\r\n      }\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","export function login(firstName,lastName,email,password) {\r\n   return {\r\n      type: 'LOGIN',\r\n      payload : {\r\n         firstName,lastName,email,password\r\n      }\r\n   }\r\n}\r\nexport function logout() {\r\n   return {\r\n      type: 'LOGOUT'\r\n   }\r\n}\r\nexport function openSignup() {\r\n   return {\r\n      type: 'CREATE_SIGNUP'\r\n   }\r\n}\r\nexport function closeSignup() {\r\n   return {\r\n      type: 'CLOSE_SIGNUP'\r\n   }\r\n}\r\nexport function openForgot() {\r\n   return {\r\n      type: 'OPEN_FORGOT'\r\n   }\r\n}\r\nexport function closeForgot() {\r\n   return {\r\n      type: 'CLOSE_FORGOT'\r\n   }\r\n}\r\n\r\n\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {  login, openSignup, openForgot } from \"../redux/actions\";\r\nimport {LinearProgress} from '@mui/material';\r\nimport axios from \"axios\";\r\nimport \"./login.css\";\r\n\r\nfunction Login() {\r\n  const [invalid,setInvalid] = useState(false);\r\n  const [loading,setLoading] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const handlesubmit = ()=>{\r\n    setLoading(true);\r\n    axios.post('https://spark-portal-backend.herokuapp.com/login/user',{\r\n      email:email,\r\n      password:password\r\n    }).then((res)=>{\r\n      setLoading(false);\r\n      if(res.data){\r\n        \r\n       setInvalid(false);\r\n        setEmail(res.data.email);\r\n        setPassword(res.data.password);\r\n        localStorage.setItem('user',\"true\"); \r\n        localStorage.setItem('firstName',res.data.firstName);\r\n        localStorage.setItem('lastName',res.data.lastName);\r\n        localStorage.setItem('email',email);\r\n        localStorage.setItem('password',password);\r\n        dispatch(login(res.data.firstName,res.data.lastName,res.data.email,res.data.password));\r\n      }else{\r\n        setInvalid(true);\r\n        console.log(\"invalid credidentials!\");\r\n      }\r\n        \r\n    })\r\n   \r\n    \r\n  }\r\n\r\n\r\n  const handlesignup = () => {\r\n    dispatch(openSignup());\r\n  }\r\n  const handleforgot = ()=>{\r\n    dispatch(openForgot());\r\n  }\r\n  const handleChange = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n  const handleChange2 = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  return (\r\n   \r\n    <div className=\"login\">\r\n       {(loading)?(\r\n          <div className=\"loading-login\"><LinearProgress/></div>\r\n        ):(\r\n          <div className=\"login-wrapper\" onClick={()=>setInvalid(false)}>\r\n       \r\n          <div className=\"login-title\">Spark Portal</div>\r\n  \r\n          <div >\r\n            <div className=\"login-form\" >\r\n            \r\n              {(invalid)?(\r\n                <div className=\"invalidmsg\">email or password is incorrect!</div>\r\n              ):(\r\n                <div></div>\r\n              )}\r\n              \r\n              <div className=\"email\">\r\n               <input\r\n                  type=\"text\"\r\n                  name=\"email\"\r\n                  value={email}\r\n                  onChange={handleChange}\r\n                  placeholder=\"email\"\r\n                  \r\n                />\r\n              </div>\r\n  \r\n              <div className=\"password\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"password\"\r\n                  value={password}\r\n                  onChange={handleChange2}\r\n                  placeholder=\"password\"\r\n                  \r\n                />\r\n              </div>\r\n  \r\n              <div className=\"submit\">\r\n              <button onClick={handlesubmit} >Log in</button>\r\n              </div>\r\n  \r\n            </div>\r\n          </div>\r\n  \r\n          <div className=\"login-bottom\">\r\n            <div className=\"forgot-password\">\r\n              Forgot{\" \"}\r\n              <a onClick={handleforgot} className=\"forgot-link\">\r\n                Password\r\n              </a>\r\n              ?\r\n            </div>\r\n            \r\n            <div className=\"sign-up\">\r\n              Don't have an account?{\" \"}\r\n             \r\n              <a onClick={handlesignup} className=\"signup-link\">\r\n                Sign up\r\n              </a>\r\n             \r\n            </div>\r\n          </div>\r\n        </div>\r\n        )}\r\n      \r\n     \r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React,{useState,useEffect} from \"react\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { logout,login } from \"../redux/actions\";\r\nimport \"./loggedin.css\";\r\nimport AccountCircleRoundedIcon from '@mui/icons-material/AccountCircleRounded';\r\n\r\nfunction Login(props) {\r\n  const [firstName,setFirstName] =  useState(useSelector((st)=>st.user.firstName));\r\n  const [lastName,setLastName] =  useState(useSelector((st)=>st.user.lastName));\r\n  const [email, setEmail] = useState(useSelector((st)=>st.user.email));\r\n  const [password, setPassword] = useState(useSelector((st)=>st.user.password));\r\n\r\n  const dispatch = useDispatch();\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n    localStorage.clear();\r\n  };\r\n  \r\n  return (\r\n    <div className=\"loggedin\">\r\n      <div className=\"wrapper\">\r\n        <div className=\"header\">Spark Portal</div>\r\n        <div className=\"photo\">\r\n          <AccountCircleRoundedIcon className=\"photo-icon\"  sx={{ color: \"#0091b9\", fontSize: 100}}/></div>\r\n        <div className=\"names\">\r\n        <div className=\"text\">{firstName+\" \"+lastName}</div>\r\n        </div>\r\n        <div className=\"email\">{email}</div>\r\n        <div className=\"footer\"><button onClick={handleLogout}>Log out</button></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { closeSignup, login } from \"../redux/actions\";\r\nimport axios from \"axios\";\r\nimport \"./signup.css\";\r\nfunction Signup() {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [first_err,setFirst_err] = useState(\"none\");\r\n  const [email_err,setEmail_err] = useState(\"none\");\r\n  const [pswd_err,setPswd_err] = useState(\"none\");\r\n\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handlelogin = () => {\r\n      dispatch(closeSignup());\r\n  };\r\n\r\n  const close_errs = ()=>{\r\n      setFirst_err(\"none\");\r\n      setEmail_err(\"none\");\r\n      setPswd_err(\"none\");\r\n  }\r\n\r\n  const handle_all_errors = ()=>{\r\n    var dec=0;\r\n    if(firstName===\"\"){\r\n      setFirst_err(\"1px solid #f81d1d\");\r\n      dec=1;\r\n    }\r\n    if(email===\"\"){\r\n      setEmail_err(\"1px solid #f81d1d\");\r\n      dec=1;\r\n    }else{\r\n      var n=email.length;\r\n      var d=0;\r\n      for(var i=0;i<n;i++){\r\n          if(email[i]==='@'){\r\n            d=1;\r\n          }\r\n          if(d==1 && email[i]==='.'){\r\n            d=2;\r\n          }\r\n      }\r\n      if(d!=2){\r\n        setPswd_err(\"email format is not accepted\");\r\n        dec=1;\r\n      }\r\n    }\r\n    if(password === \"\"){\r\n      setPswd_err(\"1px solid #f81d1d\");\r\n      dec=1;\r\n    }\r\n    \r\n    if(dec===1)return false;\r\n      return true;\r\n  }\r\n\r\n  const handleSubmit = () =>{\r\n    if(handle_all_errors()){\r\n      axios.post('https://spark-portal-backend.herokuapp.com/new/user',{\r\n        firstName:firstName,\r\n        lastName:lastName,\r\n        email:email,\r\n        password:password\r\n      }).then((res)=>{\r\n        if(res.data){\r\n          close_errs();\r\n        localStorage.setItem('user',\"true\"); \r\n        localStorage.setItem('firstName',res.data.firstName);\r\n        localStorage.setItem('lastName',res.data.lastName);\r\n        localStorage.setItem('email',email);\r\n        localStorage.setItem('password',password);\r\n        dispatch(login(firstName,lastName,email,password));\r\n        }else{\r\n          setEmail_err(\"1.2px solid #f81d1d\")\r\n          console.log(\"user exists already\");\r\n        }\r\n        \r\n      })\r\n    }\r\n    \r\n      // dispatch(login());\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    var dec = e.target.name;\r\n    var tar = e.target.value;\r\n    if(dec===\"firstName\"){\r\n        setFirstName(tar);\r\n    }else if(dec===\"lastName\"){\r\n        setLastName(tar);\r\n    }else if(dec===\"email\"){\r\n        setEmail(tar);\r\n    }else if(dec===\"password\"){\r\n        setPassword(tar);\r\n    }\r\n  };\r\n \r\n\r\n  return (\r\n    <div className=\"signup\">\r\n      <div className=\"signup-wrapper\" >\r\n        <div className=\"login-title\">Sign Up</div>\r\n\r\n        <div >\r\n          <div className=\"login-form\" >\r\n            <div className=\"signup-names\">\r\n                <div className=\"signup-firstName\">\r\n\r\n                <input\r\n               style={{border:first_err}}\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                value={firstName}\r\n                onChange={handleChange}\r\n                placeholder=\"first name\"\r\n                onClick={close_errs}\r\n              />\r\n              {(first_err!=\"none\")?(\r\n                <div className=\"err\">first name canot be empty</div>\r\n              ):(\r\n                <div></div>\r\n              )}\r\n                </div>\r\n                <div className=\"signup-lastName\" >\r\n                <input\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                value={lastName}\r\n                onChange={handleChange}\r\n                placeholder=\"last name\"\r\n              />\r\n                </div>\r\n            </div>\r\n            <div className=\"signup-email\">\r\n             <input\r\n             style={{border:email_err}}\r\n                type=\"text\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={handleChange}\r\n                placeholder=\"email\"\r\n                onClick={close_errs}\r\n              />\r\n            </div>\r\n            {(email_err === \"none\")?(\r\n              <div></div>\r\n            ):(\r\n              <div>{(email_err[1]==='.')?(\r\n              <div className=\"err\">email address is already in use</div>\r\n              ):(\r\n              <div className=\"err\">email address is invalid</div>\r\n              )}</div>\r\n              \r\n            )}\r\n            \r\n            <div className=\"signup-password\">\r\n              <input\r\n              style={{border:pswd_err}}\r\n                type=\"text\"\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={handleChange}\r\n                placeholder=\"password\"\r\n                onClick={close_errs}\r\n              />\r\n            </div>\r\n              {(pswd_err===\"none\")?(\r\n                <div></div>\r\n              ):(\r\n                <div className=\"err\">password cannot be empty</div>\r\n              )}\r\n            <div className=\"signup-submit\">\r\n            <button onClick={handleSubmit}>Create account</button>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"login-bottom\">\r\n          <div className=\"forgot-password\">\r\n            Already have an account?{\" \"}\r\n            <a onClick={handlelogin} className=\"signup-link\">\r\n              Log in\r\n            </a>\r\n            \r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {closeForgot} from \"../redux/actions\";\r\nimport {LinearProgress} from '@mui/material';\r\nimport axios from \"axios\";\r\nimport \"./login.css\";\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [otp, setOtp] = useState();\r\n  const [des,setDes] = useState(\"none\");\r\n  const [sotp,setSotp] = useState();\r\n  const [err,setErr] = useState(\"none\");\r\n  const [email_err,setEmail_err] = useState(\"none\");\r\n  const [pswd,setPswd] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleerr=()=>{\r\n    if(email==\"\"){\r\n        setEmail_err(\"true\");\r\n        return false;\r\n    }else{\r\n      var n = email.length;\r\n      var d=0;\r\n      for(var i=0;i<n;i++){\r\n        if(d==0&&email[i]=='@'){\r\n          d=1;\r\n        }else if(d==1&&email[i]=='.'){\r\n          d=2;\r\n        }\r\n      }\r\n      if(d!=2){\r\n        setEmail_err(\"true\");\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const closeerr=()=>{\r\n    setDes(\"none\");\r\n    setErr(\"none\");\r\n    setOtp();\r\n    setSotp();\r\n    setPswd(\"\");\r\n    setEmail_err(\"none\");\r\n  }\r\n\r\n  const closeforgot = ()=>{\r\n    dispatch(closeForgot());\r\n  }\r\n  const handleSubmit = () => {\r\n    if(handleerr()){\r\n      setDes(\"loading\")\r\n      axios.post('https://spark-portal-backend.herokuapp.com/forgot/user',{\r\n        email:email\r\n      }).then((res)=>{\r\n        console.log(res.data);\r\n        setSotp(res.data.otp);\r\n        setDes(\"sucess\");\r\n        // console.log(res.data.OTP);\r\n      })\r\n      // closeforgot();\r\n    }\r\n};\r\n\r\n  const handleSubmit2 = ()=>{\r\n      console.log(sotp);\r\n      console.log(otp);\r\n    if(sotp != otp){\r\n      setErr(\"wrong\");\r\n    }else{\r\n      axios.post('https://spark-portal-backend.herokuapp.com/get/pswd',{\r\n        email:email\r\n      }).then((res)=>{\r\n        setPswd(res.data);\r\n        setErr(\"correct\");\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n    if(e.target.name==\"email\"){\r\n      setEmail(e.target.value);\r\n    }else{\r\n      setOtp(e.target.value);\r\n    }\r\n    \r\n  };\r\n\r\n\r\n  return (\r\n   \r\n    <div className=\"login\">\r\n      <div className=\"login-wrapper\">\r\n        <div className=\"login-title\">Forgot Password</div>\r\n        <div className=\"forgot-des\">\r\n            <p>Enter your email address</p>\r\n        </div>\r\n\r\n\r\n        <div >\r\n          <div className=\"login-form\">\r\n            \r\n            <div className=\"email\">\r\n             <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={handleChange}\r\n                onClick={closeerr}\r\n                placeholder=\"email\"\r\n              />\r\n            </div>\r\n            {(email_err===\"true\")?(<div className=\"otperr\">Email adress is invalid</div>):(<div></div>)}\r\n            {(des==\"loading\")?(<div className=\"loading\"><LinearProgress/></div>):(<div></div>)}\r\n            {(des==\"sucess\")?(\r\n\r\n              <div className=\"otp\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"otp\"\r\n                value={otp}\r\n                onChange={handleChange}\r\n                placeholder=\"OTP\"\r\n              />\r\n\r\n            </div>\r\n            ):(\r\n              <div></div>\r\n            )}\r\n            {(err===\"correct\")?(<div className=\"sucess\">Password: {pswd}</div>):(<div></div>)}\r\n            {(err===\"wrong\")?(<div className=\"otperr\">OTP desen't match</div>):(<div></div>)}\r\n              \r\n            <div className=\"submit\">\r\n              {(des===\"sucess\")?(\r\n              <button className=\"recover-pswd\" onClick={handleSubmit2}>Recover Password</button>\r\n              ):(\r\n              <button className=\"recover-pswd\" onClick={handleSubmit}>Get OTP</button>\r\n              )}\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n          </div>\r\n          <div className=\"login-bottom\">\r\n          <div className=\"forgot-password\">\r\n           Back to{\" \"}\r\n            <a onClick={closeforgot} className=\"forgot-link\">\r\n             Log in\r\n            </a>\r\n            ?\r\n          </div>\r\n          \r\n        </div>\r\n        </div>\r\n      </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState,useEffect } from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport Login from \"./components/login\";\r\nimport Loggedin from \"./components/loggedin\";\r\nimport Signup from \"./components/signup\";\r\nimport Forgot from \"./components/forgot\";\r\nimport './App.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport { login } from './redux/actions';\r\n\r\nfunction App(){\r\n\r\n  var isLoggedin = useSelector((state)=>state.isLoggedin);\r\n  \r\n  var onSignup = useSelector((state)=> state.onSignup);\r\n  var forgot = useSelector((state)=>state.forgot);\r\n  const dispatch = useDispatch();\r\n  \r\n  useEffect(() => {\r\n    const loggedInUser = localStorage.getItem(\"user\");\r\n    const fn = localStorage.getItem(\"firstName\");\r\n    const ln = localStorage.getItem(\"lastName\");\r\n    const em = localStorage.getItem(\"email\");\r\n    const ps = localStorage.getItem(\"password\");\r\n    if(loggedInUser){\r\n      isLoggedin=loggedInUser;\r\n      dispatch(login(fn,ln,em,ps));\r\n    }\r\n    \r\n  }, [])\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        {(forgot)?(\r\n            <Forgot/>\r\n        ):(\r\n          <div>\r\n            {(isLoggedin)?(\r\n            <div className=\"logged-in\">\r\n              {(onSignup === true)?(\r\n                <div><Signup/></div>\r\n              ):(\r\n                <div><Loggedin isLoggedin={isLoggedin} /></div>\r\n              )}\r\n            </div>\r\n          ):(\r\n            <div className=\"login\">\r\n              <Login isLoggedin={isLoggedin}/>\r\n            </div>\r\n          )}\r\n           </div>\r\n        )}\r\n         \r\n      </div>\r\n    );\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore } from \"redux\";\r\nimport reducer from \"./redux/reducer\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}